!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("index",[],t):"object"==typeof exports?exports.index=t():e.index=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("styled-components")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("react-transition-group")},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(2);Object(i.shape)({id:Object(i.oneOfType)([i.string,i.number]),sources:Object(i.objectOf)(Object(i.shape)({src:i.string,width:i.number,height:i.number})),meta:Object(i.shape)({color:i.string,caption:i.string,date:i.string,location:i.string})});function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){return+e},l=function(e){var t=e.sources;return Object.keys(t).map(c)},f=function(e){var t=e.sources,n=l(e);return t[Math.max.apply(Math,a(n))]},s=function(e){var t=f(e);return t.width/t.height},d=n(1),m=n.n(d);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){var e=p(Object(r.useState)({x:document.body.getBoundingClientRect().left,y:document.body.getBoundingClientRect().top,direction:""}),2),t=e[0],n=e[1],o=function(){n((function(e){return{x:document.body.getBoundingClientRect().left,y:-document.body.getBoundingClientRect().top,direction:e.y>-document.body.getBoundingClientRect().top?"up":"down"}}))};return Object(r.useEffect)((function(){return window.addEventListener("scroll",o),function(){return window.removeEventListener("scroll",o)}}),[]),t};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(){var e=v(Object(r.useState)({width:void 0,height:void 0}),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){var e=function(){n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t};function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){var e=S(["\n  overflow: hidden;\n"]);return O=function(){return e},e}function x(){var e=S(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n"]);return x=function(){return e},e}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E=m.a.div(x()),M=m.a.div(O()),A=function(e){var t=e.item,n=e.children,i=Object(r.useRef)(null),a=g(),u=w(Object(r.useState)(null),2),c=u[0],l=u[1],f=w(Object(r.useState)({}),2),d=f[0],m=f[1],p=s(t);return Object(r.useEffect)((function(){if(null!=i){var e=i.current.getBoundingClientRect(),t=e.width,n=e.height;l({width:t,height:n})}}),[i,a]),Object(r.useEffect)((function(){if(c){var e=c.height,t=c.width,n=t/e;p>=n&&m({height:t/p,width:t}),p<n&&m({height:e,width:e*p})}}),[p,c]),o.a.createElement(E,{ref:i},o.a.createElement(M,{style:d},o.a.cloneElement(n,{size:d})))};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){var e=V(["\n  width: 100%;\n  height: auto;\n  opacity: 0;\n  transition: 1s opacity;\n  cursor: pointer;\n\n  &[src] {\n    opacity: 1;\n  }\n"]);return k=function(){return e},e}function N(){var e=V(["\n  background-color: #eee;\n  background-size: cover;\n  height: 100%;\n  width: 100%;\n"]);return N=function(){return e},e}function V(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var G=m.a.div(N()),T=m.a.img(k()),U={},B=function(e){var t=e.item,n=e.size,i=n.width,u=n.height,s=I(Object(r.useState)(null),2),d=s[0],m=s[1],p=I(Object(r.useState)(null),2),b=p[0],h=p[1],v=I(Object(r.useState)(null),2),y=v[0],g=v[1];return Object(r.useEffect)((function(){if(i){var e=function(e,t){var n=e.sources,r=l(e).filter((function(e){return t<=e}));return r.length?n[Math.min.apply(Math,a(r))]:f(e)}(t,i).src;U[e]&&h(e),m(e)}}),[i,t]),Object(r.useEffect)((function(){if(d&&!b){var e=new Image;e.src=d,e.onload=function(){h(d)},U[d]=!0}}),[d,b]),Object(r.useEffect)((function(){null==y&&g(function(e,t){var n=Object.keys(e.sources).filter((function(n){return t[e.sources[n].src]})).map(c);if(!n.length)return!1;var r=Math.max.apply(Math,a(n));return e.sources[r].src}(t,U))}),[y]),o.a.createElement(G,{className:"VMG__Image__wrapper",style:C({backgroundImage:y?"url(".concat(y,")"):"none"},t.meta.color?{backgroundColor:t.meta.color}:{})},o.a.createElement(T,{className:"VMG__Image",src:b,alt:"",height:u,width:i}))};function R(){var e=H(["\n  float: left;\n  margin: 0;\n"]);return R=function(){return e},e}function L(){var e=H(["\n  float: right;\n"]);return L=function(){return e},e}function $(){var e=H(["\n  background-color: #fff;\n  font-family: sans-serif;\n  height: 48px;\n  line-height: 48px;\n  padding: 0 16px;\n"]);return $=function(){return e},e}function H(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var W=m.a.div($()),q=m.a.div(L()),D=m.a.p(R()),F=function(e){var t=e.item,n=t.caption,r=t.date,i=t.location,a=e.className;return n||r||i?o.a.createElement(W,{className:"".concat(a," VMG__Caption")},(r||i)&&o.a.createElement(q,{className:"VMG__Caption__meta"},r,r&&i&&", ",i),o.a.createElement(D,{className:"VMG__Caption__description"},n)):null};F.defaultProps={className:null};var J=F;function K(){var e=Y(["\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  z-index: 12;\n"]);return K=function(){return e},e}function Q(){var e=Y(["\n  width: 100%;\n  height: 100%;\n\n  & > * {\n    flex: none;\n  }\n"]);return Q=function(){return e},e}function X(){var e=Y(["\n  box-sizing: border-box;\n  height: 100vh;\n  padding: 1rem 1rem 3rem;\n  position: absolute;\n  width: 100vw;\n  z-index: 10;\n"]);return X=function(){return e},e}function Y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Z=function(e){return"".concat(100*e,"vw")},ee=m.a.div(X()),te=m.a.div(Q()),ne=m()(J)(K()),re=function(e){var t=e.item,n=e.index;return o.a.createElement(ee,{className:"VMG__CarrouselItem",style:{left:Z(n)}},o.a.createElement(te,{className:"VMG__CarrouselItem__inner"},o.a.createElement(A,{item:t},o.a.createElement(B,{item:t})),o.a.createElement(ne,{item:t})))};function oe(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: #fff;\n  background-position: center;\n  background-repeat: no-repeat;\n  border-radius: 24px;\n  border: none;\n  cursor: pointer;\n  height: 48px;\n  outline: none;\n  padding: 0;\n  position: absolute;\n  width: 48px;\n  z-index: 100;\n  opacity: .5;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return oe=function(){return e},e}var ie=m.a.button(oe());function ae(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-image: url('data:image/svg+xml;utf8,","');\n"]);return ae=function(){return e},e}var ue=m()(ie)(ae(),encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>')),ce=function(e){var t=e.className,n=e.onClick;return o.a.createElement(ue,{className:"".concat(t," VMG__Carrousel__PrevButton"),onClick:n})};ce.defaultProps={className:null};var le=ce;function fe(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-image: url('data:image/svg+xml;utf8,","');\n"]);return fe=function(){return e},e}var se=m()(ie)(fe(),encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z" /></svg>')),de=function(e){var t=e.className,n=e.onClick;return o.a.createElement(se,{className:"".concat(t," VMG__NextButton"),onClick:n})};de.defaultProps={className:null};var me=de;function pe(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-image: url('data:image/svg+xml;utf8,","');\n"]);return pe=function(){return e},e}var be=m()(ie)(pe(),encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z" /></svg>')),he=function(e){var t=e.className,n=e.onClick;return o.a.createElement(be,{className:"".concat(t," VMG__CloseButton"),onClick:n})};he.defaultProps={className:null};var ve=he;function ye(){var e=je(["\n  right: 20px;\n  top: 50vh;\n  margin-top: -24px;\n"]);return ye=function(){return e},e}function ge(){var e=je(["\n  left: 20px;\n  top: 50vh;\n  margin-top: -24px;\n"]);return ge=function(){return e},e}function we(){var e=je(["\n  top: 20px;\n  left: 20px;\n"]);return we=function(){return e},e}function je(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Oe=m()(ve)(we()),xe=m()(le)(ge()),Se=m()(me)(ye()),Ee=function(e){var t=e.onPrev,n=e.onNext,r=e.onClose,i=e.showPrev,a=e.showNext;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe,{onClick:r}),i&&o.a.createElement(xe,{onClick:t}),a&&o.a.createElement(Se,{onClick:n}))};function Me(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||_e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(){var e=Pe(["\n  position: absolute;\n  height: 100vh;\n  transition: transform .5s;\n"]);return ze=function(){return e},e}function Ie(){var e=Pe(["\n  background: rgba(255, 255, 255, .9);\n  height: 100vh;\n  overflow: hidden;\n  width: 100vw;\n  position: relative;\n"]);return Ie=function(){return e},e}function Pe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ke=m.a.div(Ie()),Ne=m.a.div(ze()),Ve=function(e){var t=e.index,n=e.onClose,i=e.items,a=Ae(Object(r.useState)(t),2),u=a[0],c=a[1],l=Ae(Object(r.useState)([t]),2),f=l[0],s=l[1],d=function(e){c(e);var t=Me(f);t.push(e),t.length>2&&t.shift(),s(t)},m=0===u,p=u===i.length-1;return o.a.createElement(ke,{className:"VMG__Carrousel__wrapper"},o.a.createElement(Ee,{onPrev:function(){d(u-1)},onNext:function(){d(u+1)},onClose:n,showPrev:!m,showNext:!p}),o.a.createElement(Ne,{className:"VMG__Carrousel",style:{width:"".concat(100*i.length,"vw"),transform:"translate3d(-".concat(100*u,"vw, 0, 0)")}},f.map((function(e){return o.a.createElement(re,{item:i[e],index:e,key:e})}))))};Ve.defaultProps={items:[]};var Ge=Ve;function Te(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-image: url('data:image/svg+xml;utf8,","');\n  background-position: center;\n  background-repeat: no-repeat;\n  min-height: 200px;\n"]);return Te=function(){return e},e}var Ue=m.a.div(Te(),encodeURIComponent('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="40px" height="40px" viewBox="0 0 50 50"><path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/></path></svg>')),Be=function(){return o.a.createElement(Ue,{className:"VMG__Loading"})};function Re(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e){return Math.min.apply(Math,Re(e))}function He(e,t){return e.indexOf(t)}function We(e,t){return e*t+16*e+0}function qe(e,t){return e+t+16}function De(e){for(var t,n,r,o,i=e.items,a=function(e){var t=Math.ceil(e/150);return{columnCount:t,columnWidth:(e-16*(t-1)-0)/t}}(e.containerWidth),u=a.columnCount,c=a.columnWidth,l=Array.from({length:u},(function(){return 0})),f={positions:[],containerHeight:0},d=1,m=0,p=0;p<i.length;p++)n=s(i[p]),d=He(l,t=$e(l)),o=c/n,f.positions.push({left:We(d,c),top:t,width:c,height:o}),r=qe(t,o),l[d]=r,m=Math.max(m,r);return f.containerHeight=m,f}var Fe=function(e,t,n,r){var o=[];return t.positions.forEach((function(t,i){t.top+t.height>r-200&&t.top<r+n+200&&o.push(e[i])})),o};function Je(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: absolute;\n"]);return Je=function(){return e},e}var Ke=m.a.div(Je()),Qe=function(e,t){for(var n,r,i=e.items,a=e.itemComponent,u=e.handleClick,c=t.positions,l=[],f=function(e){n=c[e],r=i[e],l.push(o.a.createElement(Ke,{key:e,style:n,onClick:function(){return u(e)},className:"VMG__MasonryItem",role:"button"},o.a.createElement(a,{item:r,size:n})))},s=0;s<i.length;s++)f(s);return l};function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n"]);return Ze=function(){return e},e}var et=m.a.div(Ze()),tt=function(e){var t=e.items,n=e.itemComponent,i=e.handleClick,a=g(),u=a.height,c=a.width,l=h().y,f=Xe(Object(r.useState)({}),2),s=f[0],d=f[1],m=Xe(Object(r.useState)([]),2),p=m[0],b=m[1],v=Xe(Object(r.useState)([]),2),y=v[0],w=v[1],j=Object(r.useRef)(null);Object(r.useEffect)((function(){if(j.current){var e=j.current.getBoundingClientRect().width;d(De({items:t,containerWidth:e}))}}),[j,t,c]),Object(r.useEffect)((function(){s.positions&&b(Qe({items:t,itemComponent:n,handleClick:i},s))}),[s]),Object(r.useEffect)((function(){s.positions&&w(Fe(p,s,u,l))}),[p,l]);var O=s.containerHeight;return o.a.createElement(et,{className:"VMG__Masonry",style:{height:O},ref:j},y)},nt=n(3);function rt(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: white;\n  bottom: 0;\n  height: 100vh;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: 100vw;\n  transition: .3s;\n  transform: translate3d(0, 100vh, 0);\n\n  &.VMG__Modal--enter {\n    opacity: 0;\n    transform: translate3d(0, 100vh, 0);\n  }\n  &.VMG__Modal--enter-done {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n  &.VMG__Modal--exit {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n  &.VMG__Modal--exit-done {\n    opacity: 0;\n    transform: translate3d(0, 100vh, 0);\n  }\n"]);return rt=function(){return e},e}var ot=m.a.div(rt()),it=function(e){var t=e.children,n=e.modal,r=e.onUnmountModal,i=e.showModal;return o.a.createElement(o.a.Fragment,null,t,o.a.createElement(nt.CSSTransition,{in:i,timeout:0,classNames:"VMG__Modal-",onExited:r},o.a.createElement(ot,{className:"VMG__Modal"},n)))};function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ct=function(e){var t=e.items,n=at(Object(r.useState)(null),2),i=n[0],a=n[1],u=at(Object(r.useState)(!1),2),c=u[0],l=u[1],f=null!=i?o.a.createElement(Ge,{items:t,index:i,onClose:function(){l(!1)}}):null;return o.a.createElement("div",{className:"VMG"},t?o.a.createElement(it,{modal:f,onUnmountModal:function(){setTimeout((function(){return a(null)}),1e3)},showModal:c},t.length>0&&o.a.createElement(tt,{handleClick:function(e){a(e),l(!0)},items:t,itemComponent:B})):o.a.createElement(Be,null))};ct.defaultProps={items:null};t.default=ct}])}));
//# sourceMappingURL=index.js.map