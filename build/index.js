!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("index",[],t):"object"==typeof exports?exports.index=t():e.index=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=5)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("styled-components")},function(e,t){e.exports=require("prop-types")},function(e,t,n){"use strict";n.r(t),n.d(t,"itemPropType",(function(){return o})),n.d(t,"getSizes",(function(){return c})),n.d(t,"getLargestSource",(function(){return l})),n.d(t,"getRatio",(function(){return f})),n.d(t,"getLargeEnoughSource",(function(){return s})),n.d(t,"getLargestLoadedSource",(function(){return d}));var r=n(2),o=Object(r.shape)({id:Object(r.oneOfType)([r.string,r.number]),sources:Object(r.objectOf)(Object(r.shape)({src:r.string,width:r.number,height:r.number})),meta:Object(r.shape)({averageColor:r.string,caption:r.string,date:r.string,location:r.string})});function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){return+e},c=function(e){var t=e.sources;return Object.keys(t).map(u)},l=function(e){var t=e.sources,n=c(e);return t[Math.max.apply(Math,i(n))]},f=function(e){var t=l(e);return t.width/t.height},s=function(e,t){var n=e.sources,r=c(e).filter((function(e){return t<=e}));return r.length?n[Math.min.apply(Math,i(r))]:l(e)},d=function(e,t){var n=Object.keys(e.sources).filter((function(n){return t[e.sources[n].src]})).map(u);if(!n.length)return!1;var r=Math.max.apply(Math,i(n));return e.sources[r].src}},function(e,t){e.exports=require("react-transition-group")},function(e,t,n){e.exports=n(7)},,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(3),a=n(1),u=n.n(a);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){var e=c(Object(r.useState)({x:document.body.getBoundingClientRect().left,y:document.body.getBoundingClientRect().top,direction:""}),2),t=e[0],n=e[1],o=function(){n((function(e){return{x:document.body.getBoundingClientRect().left,y:-document.body.getBoundingClientRect().top,direction:e.y>-document.body.getBoundingClientRect().top?"up":"down"}}))};return Object(r.useEffect)((function(){return window.addEventListener("scroll",o),function(){return window.removeEventListener("scroll",o)}}),[]),t};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){var e=s(Object(r.useState)({width:void 0,height:void 0}),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){var e=function(){n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){var e=y(["\n  overflow: hidden;\n"]);return v=function(){return e},e}function b(){var e=y(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n"]);return b=function(){return e},e}function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=u.a.div(b()),w=u.a.div(v()),j=function(e){var t=e.item,n=e.children,a=Object(r.useRef)(null),u=m(),c=p(Object(r.useState)(null),2),l=c[0],f=c[1],s=p(Object(r.useState)({}),2),d=s[0],h=s[1],v=Object(i.getRatio)(t);return Object(r.useEffect)((function(){if(null!=a){var e=a.current.getBoundingClientRect(),t=e.width,n=e.height;f({width:t,height:n})}}),[a,u]),Object(r.useEffect)((function(){if(l){var e=l.height,t=l.width,n=t/e;v>=n&&h({height:t/v,width:t}),v<n&&h({height:e,width:e*v})}}),[v,l]),o.a.createElement(g,{ref:a},o.a.createElement(w,{style:d},o.a.cloneElement(n,{size:d})))};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){var e=M(["\n  width: 100%;\n  height: auto;\n  opacity: 0;\n  transition: 1s opacity;\n  cursor: pointer;\n\n  &[src] {\n    opacity: 1;\n  }\n"]);return x=function(){return e},e}function E(){var e=M(["\n  background-color: #eee;\n  background-size: cover;\n  height: 100%;\n  width: 100%;\n"]);return E=function(){return e},e}function M(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var A=u.a.div(E()),_=u.a.img(x()),C={},z=function(e){var t=e.item,n=e.size,a=n.width,u=n.height,c=O(Object(r.useState)(null),2),l=c[0],f=c[1],s=O(Object(r.useState)(null),2),d=s[0],m=s[1],p=O(Object(r.useState)(null),2),h=p[0],v=p[1];return Object(r.useEffect)((function(){if(a){var e=Object(i.getLargeEnoughSource)(t,a).src;C[e]&&m(e),f(e)}}),[a,t]),Object(r.useEffect)((function(){if(l&&!d){var e=new Image;e.src=l,e.onload=function(){m(l)},C[l]=!0}}),[l,d]),Object(r.useEffect)((function(){null==h&&v(Object(i.getLargestLoadedSource)(t,C))}),[h]),o.a.createElement(A,{className:"VMG__Image__wrapper",style:{backgroundImage:h?"url(".concat(h,")"):"none"}},o.a.createElement(_,{className:"VMG__Image",src:d,alt:t.id,height:u,width:a}))};function I(){var e=P(["\n  float: left;\n  margin: 0;\n"]);return I=function(){return e},e}function k(){var e=P(["\n  float: right;\n"]);return k=function(){return e},e}function N(){var e=P(["\n  background-color: #fff;\n  font-family: sans-serif;\n  height: 48px;\n  line-height: 48px;\n  padding: 0 16px;\n"]);return N=function(){return e},e}function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var V=u.a.div(N()),G=u.a.div(k()),L=u.a.p(I()),T=function(e){var t=e.item,n=t.caption,r=t.date,i=t.location,a=e.className;return n||r||i?o.a.createElement(V,{className:"".concat(a," VMG__Caption")},(r||i)&&o.a.createElement(G,{className:"VMG__Caption__meta"},r,r&&i&&", ",i),o.a.createElement(L,{className:"VMG__Caption__description"},n)):null};T.defaultProps={className:null};var R=T;function U(){var e=H(["\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  z-index: 12;\n"]);return U=function(){return e},e}function B(){var e=H(["\n  width: 100%;\n  height: 100%;\n\n  & > * {\n    flex: none;\n  }\n"]);return B=function(){return e},e}function $(){var e=H(["\n  box-sizing: border-box;\n  height: 100vh;\n  padding: 1rem 1rem 3rem;\n  position: absolute;\n  width: 100vw;\n  z-index: 10;\n"]);return $=function(){return e},e}function H(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var W=function(e){return"".concat(100*e,"vw")},q=u.a.div($()),F=u.a.div(B()),D=u()(R)(U()),J=function(e){var t=e.item,n=e.index;return o.a.createElement(q,{className:"VMG__CarrouselItem",style:{left:W(n)}},o.a.createElement(F,{className:"VMG__CarrouselItem__inner"},o.a.createElement(j,{item:t},o.a.createElement(z,{item:t})),o.a.createElement(D,{item:t})))};function K(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: #fff;\n  background-position: center;\n  background-repeat: no-repeat;\n  border-radius: 24px;\n  border: none;\n  cursor: pointer;\n  height: 48px;\n  outline: none;\n  padding: 0;\n  position: absolute;\n  width: 48px;\n  z-index: 100;\n  opacity: .5;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return K=function(){return e},e}var Q=u.a.button(K());function X(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-image: url('data:image/svg+xml;utf8,","');\n"]);return X=function(){return e},e}var Y=u()(Q)(X(),encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>')),Z=function(e){var t=e.className,n=e.onClick;return o.a.createElement(Y,{className:"".concat(t," VMG__Carrousel__PrevButton"),onClick:n})};Z.defaultProps={className:null};var ee=Z;function te(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-image: url('data:image/svg+xml;utf8,","');\n"]);return te=function(){return e},e}var ne=u()(Q)(te(),encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z" /></svg>')),re=function(e){var t=e.className,n=e.onClick;return o.a.createElement(ne,{className:"".concat(t," VMG__NextButton"),onClick:n})};re.defaultProps={className:null};var oe=re;function ie(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-image: url('data:image/svg+xml;utf8,","');\n"]);return ie=function(){return e},e}var ae=u()(Q)(ie(),encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z" /></svg>')),ue=function(e){var t=e.className,n=e.onClick;return o.a.createElement(ae,{className:"".concat(t," VMG__CloseButton"),onClick:n})};ue.defaultProps={className:null};var ce=ue;function le(){var e=de(["\n  right: 20px;\n  top: 50vh;\n  margin-top: -24px;\n"]);return le=function(){return e},e}function fe(){var e=de(["\n  left: 20px;\n  top: 50vh;\n  margin-top: -24px;\n"]);return fe=function(){return e},e}function se(){var e=de(["\n  top: 20px;\n  left: 20px;\n"]);return se=function(){return e},e}function de(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var me=u()(ce)(se()),pe=u()(ee)(fe()),he=u()(oe)(le()),ve=function(e){var t=e.onPrev,n=e.onNext,r=e.onClose,i=e.showPrev,a=e.showNext;return o.a.createElement(o.a.Fragment,null,o.a.createElement(me,{onClick:r}),i&&o.a.createElement(pe,{onClick:t}),a&&o.a.createElement(he,{onClick:n}))};function be(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(){var e=Se(["\n  position: absolute;\n  height: 100vh;\n  transition: transform .5s;\n"]);return je=function(){return e},e}function Oe(){var e=Se(["\n  background: rgba(255, 255, 255, .9);\n  height: 100vh;\n  overflow: hidden;\n  width: 100vw;\n  position: relative;\n"]);return Oe=function(){return e},e}function Se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xe=u.a.div(Oe()),Ee=u.a.div(je()),Me=function(e){var t=e.index,n=e.onClose,i=e.items,a=ye(Object(r.useState)(t),2),u=a[0],c=a[1],l=ye(Object(r.useState)([t]),2),f=l[0],s=l[1],d=function(e){c(e);var t=be(f);t.push(e),t.length>2&&t.shift(),s(t)},m=0===u,p=u===i.length-1;return o.a.createElement(xe,{className:"VMG__Carrousel__wrapper"},o.a.createElement(ve,{onPrev:function(){d(u-1)},onNext:function(){d(u+1)},onClose:n,showPrev:!m,showNext:!p}),o.a.createElement(Ee,{className:"VMG__Carrousel",style:{width:"".concat(100*i.length,"vw"),transform:"translate3d(-".concat(100*u,"vw, 0, 0)")}},f.map((function(e){return o.a.createElement(J,{item:i[e],index:e,key:e})}))))};Me.defaultProps={items:[]};var Ae=Me;function _e(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-image: url('data:image/svg+xml;utf8,","');\n  background-position: center;\n  background-repeat: no-repeat;\n  min-height: 200px;\n"]);return _e=function(){return e},e}var Ce=u.a.div(_e(),encodeURIComponent('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="40px" height="40px" viewBox="0 0 50 50"><path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"/></path></svg>')),ze=function(){return o.a.createElement(Ce,{className:"VMG__Loading"})};function Ie(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e){return Math.min.apply(Math,Ie(e))}function Pe(e,t){return e.indexOf(t)}function Ve(e,t){return e*t+16*e+0}function Ge(e,t){return e+t+16}function Le(e){for(var t,n,r,o,a=e.items,u=function(e){var t=Math.ceil(e/150);return{columnCount:t,columnWidth:(e-16*(t-1)-0)/t}}(e.containerWidth),c=u.columnCount,l=u.columnWidth,f=Array.from({length:c},(function(){return 0})),s={positions:[],containerHeight:0},d=1,m=0,p=0;p<a.length;p++)n=Object(i.getRatio)(a[p]),d=Pe(f,t=Ne(f)),o=l/n,s.positions.push({left:Ve(d,l),top:t,width:l,height:o}),r=Ge(t,o),f[d]=r,m=Math.max(m,r);return s.containerHeight=m,s}var Te=function(e,t,n,r){var o=[];return t.positions.forEach((function(t,i){t.top+t.height>r-200&&t.top<r+n+200&&o.push(e[i])})),o};function Re(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: absolute;\n"]);return Re=function(){return e},e}var Ue=u.a.div(Re()),Be=function(e,t){for(var n,r,i=e.items,a=e.itemComponent,u=e.handleClick,c=t.positions,l=[],f=function(e){n=c[e],r=i[e],l.push(o.a.createElement(Ue,{key:e,style:n,onClick:function(){return u(e)},className:"VMG__MasonryItem",role:"button"},o.a.createElement(a,{item:r,size:n})))},s=0;s<i.length;s++)f(s);return l};function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n"]);return We=function(){return e},e}var qe=u.a.div(We()),Fe=function(e){var t=e.items,n=e.itemComponent,i=e.handleClick,a=m(),u=a.height,c=a.width,l=f().y,s=$e(Object(r.useState)({}),2),d=s[0],p=s[1],h=$e(Object(r.useState)([]),2),v=h[0],b=h[1],y=$e(Object(r.useState)([]),2),g=y[0],w=y[1],j=Object(r.useRef)(null);Object(r.useEffect)((function(){if(j.current){var e=j.current.getBoundingClientRect().width;p(Le({items:t,containerWidth:e}))}}),[j,t,c]),Object(r.useEffect)((function(){d.positions&&b(Be({items:t,itemComponent:n,handleClick:i},d))}),[d]),Object(r.useEffect)((function(){d.positions&&w(Te(v,d,u,l))}),[v,l]);var O=d.containerHeight;return o.a.createElement(qe,{className:"VMG__Masonry",style:{height:O},ref:j},g)},De=n(4);function Je(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: white;\n  bottom: 0;\n  height: 100vh;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: 100vw;\n  transition: .3s;\n  transform: translate3d(0, 100vh, 0);\n\n  &.VMG__Modal--enter {\n    opacity: 0;\n    transform: translate3d(0, 100vh, 0);\n  }\n  &.VMG__Modal--enter-done {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n  &.VMG__Modal--exit {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n  &.VMG__Modal--exit-done {\n    opacity: 0;\n    transform: translate3d(0, 100vh, 0);\n  }\n"]);return Je=function(){return e},e}var Ke=u.a.div(Je()),Qe=function(e){var t=e.children,n=e.modal,r=e.onUnmountModal,i=e.showModal;return o.a.createElement(o.a.Fragment,null,t,o.a.createElement(De.CSSTransition,{in:i,timeout:0,classNames:"VMG__Modal-",onExited:r},o.a.createElement(Ke,{className:"VMG__Modal"},n)))};function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze=function(e){var t=e.items,n=Xe(Object(r.useState)(null),2),i=n[0],a=n[1],u=Xe(Object(r.useState)(!1),2),c=u[0],l=u[1],f=null!=i?o.a.createElement(Ae,{items:t,index:i,onClose:function(){l(!1)}}):null;return o.a.createElement("div",{className:"VMG"},t?o.a.createElement(Qe,{modal:f,onUnmountModal:function(){setTimeout((function(){return a(null)}),1e3)},showModal:c},t.length>0&&o.a.createElement(Fe,{handleClick:function(e){a(e),l(!0)},items:t,itemComponent:z})):o.a.createElement(ze,null))};Ze.defaultProps={items:null};t.default=Ze}])}));
//# sourceMappingURL=index.js.map